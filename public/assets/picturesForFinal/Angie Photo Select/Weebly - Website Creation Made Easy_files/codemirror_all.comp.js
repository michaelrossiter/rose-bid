var CodeMirror=function(){function J(b,e){function i(a){return a>=0&&a<B.size}function g(a){var c=B;for(a=a;!c.lines;)for(var d=0;;++d){var f=c.children[d],h=f.chunkSize();if(a<h){c=f;break}a-=h}return c.lines[a]}function l(a,c){Oa=true;for(var d=c-a.height,f=a;f;f=f.parent)f.height+=d}function p(a){var c={line:0,ch:0};Ua(c,{line:B.size-1,ch:g(B.size-1).text.length},xb(a),c,c);$a=true}function u(a,c){if(typeof a=="string"){a=fa[a];if(!a)return false}var d=Ia;try{if(r.readOnly)Kb=true;if(c)Ia=null;
a(ia)}catch(f){if(f!=m)throw f;return false}finally{Ia=d;Kb=false}return true}function $(a){var c=F(r.keyMap),d=c.auto;clearTimeout(wc);if(d&&!M(a))wc=setTimeout(function(){if(F(r.keyMap)==c)r.keyMap=d.call?d.call(null,ia):d},50);var f=mb[t(a,"keyCode")],h=false;if(f==null||a.altGraphKey)return false;if(t(a,"altKey"))f="Alt-"+f;if(t(a,"ctrlKey"))f="Ctrl-"+f;if(t(a,"metaKey"))f="Cmd-"+f;if(h=t(a,"shiftKey")?O("Shift-"+f,r.extraKeys,r.keyMap,function(j){return u(j,true)})||O(f,r.extraKeys,r.keyMap,
function(j){if(typeof j=="string"&&/^go[A-Z]/.test(j))return u(j)}):O(f,r.extraKeys,r.keyMap,u)){T(a);if(C){a.oldKeyCode=a.keyCode;a.keyCode=0}}return h}function ha(a,c){var d=O("'"+c+"'",r.extraKeys,r.keyMap,u);d&&T(a);return d}function xa(a){Ja||ya();if(C&&a.keyCode==27)a.returnValue=false;if(tb)if(aa())tb=false;if(!(r.onKeyEvent&&r.onKeyEvent(ia,Pa(a)))){var c=t(a,"keyCode");xc(c==16||t(a,"shiftKey"));var d=$(a);if(window.opera){ac=d?c:null;if(!d&&c==88&&t(a,nb?"metaKey":"ctrlKey"))Da("")}}}function ya(){if(r.readOnly!=
"nocursor"){if(!Ja){r.onFocus&&r.onFocus(ia);Ja=true;if(ma.className.search(/\bCodeMirror-focused\b/)==-1)ma.className+=" CodeMirror-focused";yb||Qa(true)}Va();yc()}}function sa(){if(Ja){r.onBlur&&r.onBlur(ia);Ja=false;ab&&Q(function(){if(ab){ab();ab=null}})();ma.className=ma.className.replace(" CodeMirror-focused","")}clearInterval(bc);setTimeout(function(){Ja||(Ia=null)},150)}function Ua(a,c,d,f,h){if(!Kb){if(Ka){var j=[];B.iter(a.line,c.line+1,function(o){j.push(o.text)});for(Ka.addChange(a.line,
d.length,j);Ka.done.length>r.undoDepth;)Ka.done.shift()}La(a,c,d,f,h)}}function ub(a,c){if(a.length){for(var d=a.pop(),f=[],h=d.length-1;h>=0;h-=1){var j=d[h],o=[],s=j.start+j.added;B.iter(j.start,s,function(v){o.push(v.text)});f.push({start:j.start,added:j.old.length,old:o});var w=ja({line:j.start+j.old.length-1,ch:Lb(o[o.length-1],j.old[j.old.length-1])});La({line:j.start,ch:0},{line:s-1,ch:g(s-1).text.length},j.old,w,w)}$a=true;c.push(f)}}function La(a,c,d,f,h){if(!Kb){var j=false,o=bb.length;
r.lineWrapping||B.iter(a.line,c.line,function(Y){if(Y.text.length==o)return j=true});if(a.line!=c.line||d.length>1)Oa=true;var s=c.line-a.line,w=g(a.line),v=g(c.line);if(a.ch==0&&c.ch==0&&d[d.length-1]==""){var N=[];w=null;if(a.line){w=g(a.line-1);w.fixMarkEnds(v)}else v.fixMarkStarts();for(var E=0,U=d.length-1;E<U;++E)N.push(k.inheritMarks(d[E],w));s&&B.remove(a.line,s,zb);N.length&&B.insert(a.line,N)}else if(w==v)if(d.length==1)w.replace(a.ch,c.ch,d[0]);else{v=w.split(c.ch,d[d.length-1]);w.replace(a.ch,
null,d[0]);w.fixMarkEnds(v);N=[];E=1;for(U=d.length-1;E<U;++E)N.push(k.inheritMarks(d[E],w));N.push(v);B.insert(a.line+1,N)}else if(d.length==1){w.replace(a.ch,null,d[0]);v.replace(null,c.ch,"");w.append(v);B.remove(a.line+1,s,zb)}else{N=[];w.replace(a.ch,null,d[0]);v.replace(null,c.ch,d[d.length-1]);w.fixMarkEnds(v);E=1;for(U=d.length-1;E<U;++E)N.push(k.inheritMarks(d[E],w));s>1&&B.remove(a.line+1,s-1,zb);B.insert(a.line+1,N)}if(r.lineWrapping){var ta=L.clientWidth/cc()-3;B.iter(a.line,a.line+d.length,
function(Y){if(!Y.hidden){var Mb=Math.ceil(Y.text.length/ta)||1;Mb!=Y.height&&l(Y,Mb)}})}else{B.iter(a.line,E+d.length,function(Y){Y=Y.text;if(Y.length>o){bb=Y;o=Y.length;cb=null;j=false}});if(j){o=0;bb="";cb=null;B.iter(0,B.size,function(Y){Y=Y.text;if(Y.length>o){o=Y.length;bb=Y}})}}v=[];s=d.length-s-1;E=0;for(N=Ra.length;E<N;++E){U=Ra[E];if(U<a.line)v.push(U);else U>c.line&&v.push(U+s)}E=a.line+Math.min(d.length,500);Uc(a.line,E);v.push(E);Ra=v;dc(100);Ma.push({from:a.line,to:c.line+1,diff:s});
a={from:a,to:c,text:d};if(Ab){for(d=Ab;d.next;d=d.next);d.next=a}else Ab=a;Bb(f,h,q.from.line<=Math.min(c.line,c.line+s)?q.from.line:q.from.line+s,q.to.line<=Math.min(c.line,c.line+s)?q.to.line:q.to.line+s);if(L.clientHeight)ua.style.height=B.height*db()+2*Z.offsetTop+"px"}}function ka(a,c,d){function f(j){if(Aa(j,c))return j;if(!Aa(d,j))return h;var o=j.line+a.length-(d.line-c.line)-1,s=j.ch;if(j.line==d.line)s+=a[a.length-1].length-(d.ch-(d.line==c.line?c.ch:0));return{line:o,ch:s}}c=ja(c);d=d?
ja(d):c;a=xb(a);var h;Wa(a,c,d,function(j){h=j;return{from:f(q.from),to:f(q.to)}});return h}function Da(a,c){Wa(xb(a),q.from,q.to,function(d){return c=="end"?{from:d,to:d}:c=="start"?{from:q.from,to:q.from}:{from:q.from,to:d}})}function Wa(a,c,d,f){f=f({line:c.line+a.length-1,ch:a.length==1?a[0].length+c.ch:a[a.length-1].length});Ua(c,d,a,f.from,f.to)}function eb(a,c){var d=a.line,f=c.line;if(d==f)return g(d).text.slice(a.ch,c.ch);var h=[g(d).text.slice(a.ch)];B.iter(d+1,f,function(j){h.push(j.text)});
h.push(g(f).text.slice(0,c.ch));return h.join("\n")}function fb(){return eb(q.from,q.to)}function Va(){tb||ec.set(r.pollInterval,function(){fc();aa();Ja&&Va();gc()})}function Xa(){function a(){fc();if(!aa()&&!c){c=true;ec.set(60,a)}else{tb=false;Va()}gc()}var c=false;tb=true;ec.set(20,a)}function aa(){if(yb||!Ja||Vc(da)||r.readOnly)return false;var a=da.value;if(a==gb)return false;Ia=null;for(var c=0,d=Math.min(gb.length,a.length);c<d&&gb[c]==a[c];)++c;if(c<gb.length)q.from={line:q.from.line,ch:q.from.ch-
(gb.length-c)};else if(Nb&&ga(q.from,q.to))q.to={line:q.to.line,ch:Math.min(g(q.to.line).text.length,q.to.ch+(a.length-c))};Da(a.slice(c),"end");gb=a;return true}function Qa(a){if(ga(q.from,q.to)){if(a)gb=da.value=""}else{gb="";da.value=fb();Ob(da)}}function va(){r.readOnly!="nocursor"&&da.focus()}function hb(){if(Ba.getBoundingClientRect){var a=Ba.getBoundingClientRect();if(!(C&&a.top==a.bottom)){var c=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);
if(a.top<0||a.bottom>c)Ba.scrollIntoView()}}}function ob(){var a=Ya(q.inverted?q.from:q.to),c=r.lineWrapping?Math.min(a.x,Z.offsetWidth):a.x;return Cb(c,a.y,c,a.yBot)}function Cb(a,c,d,f){var h=Z.offsetLeft,j=Z.offsetTop;c+=j;f+=j;a+=h;d+=h;var o=L.clientHeight,s=L.scrollTop;h=false;j=true;if(c<s){L.scrollTop=Math.max(0,c);h=true}else if(f>s+o){L.scrollTop=f-o;h=true}c=L.clientWidth;f=L.scrollLeft;o=r.fixedGutter?wa.clientWidth:0;if(a<f+o){if(a<50)a=0;L.scrollLeft=Math.max(0,a-10-o);h=true}else if(d>
c+f-3){L.scrollLeft=d+10-c;h=true;if(d>ua.clientWidth)j=false}h&&r.onScroll&&r.onScroll(ia);return j}function zc(){var a=db(),c=L.scrollTop-Z.offsetTop,d=Math.max(0,Math.floor(c/a));a=Math.ceil((c+L.clientHeight)/a);return{from:G(B,d),to:G(B,a)}}function pb(a,c){function d(){cb=L.clientWidth;var N=Ea.firstChild,E=false;B.iter(oa,Fa,function(U){if(!U.hidden){var ta=Math.round(N.offsetHeight/v)||1;if(U.height!=ta){l(U,ta);Oa=E=true}}N=N.nextSibling});if(E)ua.style.height=B.height*v+2*Z.offsetTop+"px";
return E}if(L.clientWidth){var f=zc();if(!(a!==true&&a.length==0&&f.from>oa&&f.to<Fa)){var h=Math.max(f.from-100,0);f=Math.min(B.size,f.to+100);if(oa<h&&h-oa<20)h=oa;if(Fa>f&&Fa-f<20)f=Math.min(B.size,Fa);for(var j=a===true?[]:Wc([{from:oa,to:Fa,domStart:0}],a),o=0,s=0;s<j.length;++s){var w=j[s];if(w.from<h){w.domStart+=h-w.from;w.from=h}if(w.to>f)w.to=f;if(w.from>=w.to)j.splice(s--,1);else o+=w.to-w.from}if(o!=f-h){j.sort(function(N,E){return N.domStart-E.domStart});var v=db();o=wa.style.display;
Ea.style.display="none";Xc(h,f,j);Ea.style.display=wa.style.display="";if(s=h!=oa||f!=Fa||Ac!=L.clientHeight+v)Ac=L.clientHeight+v;oa=h;Fa=f;Db=R(B,h);Pb.style.top=Db*v+"px";if(L.clientHeight)ua.style.height=B.height*v+2*Z.offsetTop+"px";if(Ea.childNodes.length!=Fa-oa)throw Error("BAD PATCH! "+JSON.stringify(j)+" size="+(Fa-oa)+" nodes="+Ea.childNodes.length);if(r.lineWrapping)d();else{if(cb==null)cb=hc(bb);if(cb>L.clientWidth){Z.style.width=cb+"px";ua.style.width="";ua.style.width=L.scrollWidth+
"px"}else Z.style.width=ua.style.width=""}wa.style.display=o;if(s||Oa)ic()&&r.lineWrapping&&d()&&ic();Bc();!c&&r.onUpdate&&r.onUpdate(ia);return true}}}else oa=Fa=Db=0}function Wc(a,c){for(var d=0,f=c.length||0;d<f;++d){for(var h=c[d],j=[],o=h.diff||0,s=0,w=a.length;s<w;++s){var v=a[s];if(h.to<=v.from&&h.diff)j.push({from:v.from+o,to:v.to+o,domStart:v.domStart});else if(h.to<=v.from||h.from>=v.to)j.push(v);else{h.from>v.from&&j.push({from:v.from,to:h.from,domStart:v.domStart});h.to<v.to&&j.push({from:h.to+
o,to:v.to+o,domStart:v.domStart+(h.to-v.from)})}}a=j}return a}function Xc(a,c,d){if(d.length){for(var f=function(E){var U=E.nextSibling;E.parentNode.removeChild(E);return U},h=0,j=Ea.firstChild,o=0;o<d.length;++o){for(var s=d[o];s.domStart>h;){j=f(j);h++}var w=0;for(s=s.to-s.from;w<s;++w){j=j.nextSibling;h++}}for(;j;)j=f(j)}else Ea.innerHTML="";var v=d.shift();j=Ea.firstChild;w=a;var N=document.createElement("div");B.iter(a,c,function(E){if(v&&v.to==w)v=d.shift();if(!v||v.from>w){if(E.hidden)var U=
N.innerHTML="<pre></pre>";else{U="<pre"+(E.className?' class="'+E.className+'"':"")+">"+E.getHTML(Cc)+"</pre>";if(E.bgClassName)U='<div style="position: relative"><pre class="'+E.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+U+"</div>"}N.innerHTML=U;Ea.insertBefore(N.firstChild,j)}else j=j.nextSibling;++w})}function ic(){if(r.gutter||r.lineNumbers){var a=Pb.offsetHeight,c=L.clientHeight;wa.style.height=(a-c<2?c:a)+"px";var d=[],f=oa,h;B.iter(oa,
Math.max(Fa,oa+1),function(s){if(s.hidden)d.push("<pre></pre>");else{var w=s.gutterMarker,v=r.lineNumbers?f+r.firstLineNumber:null;if(w&&w.text)v=w.text.replace("%N%",v!=null?v:"");else if(v==null)v="\u00a0";d.push(w&&w.style?'<pre class="'+w.style+'">':"<pre>",v);for(v=1;v<s.height;++v)d.push("<br/>&#160;");d.push("</pre>");w||(h=f)}++f});wa.style.display="none";Eb.innerHTML=d.join("");if(h!=null){a=Eb.childNodes[h-oa];c=String(B.size).length;for(var j=a.textContent||a.innerText||a.nodeValue||"",
o="";j.length+o.length<c;)o+="\u00a0";o&&a.insertBefore(document.createTextNode(o),a.firstChild)}wa.style.display="";a=Math.abs((parseInt(Z.style.marginLeft)||0)-wa.offsetWidth)>2;Z.style.marginLeft=wa.offsetWidth+"px";Oa=false;return a}}function Bc(){var a=ga(q.from,q.to),c=Ya(q.from,true),d=a?c:Ya(q.to,true),f=q.inverted?c:d,h=db(),j=Ga(ma),o=Ga(Ea);qb.style.top=Math.max(0,Math.min(L.offsetHeight,f.y+o.top-j.top))+"px";qb.style.left=Math.max(0,Math.min(L.offsetWidth,f.x+o.left-j.left))+"px";if(a){Ba.style.top=
f.y+"px";Ba.style.left=(r.lineWrapping?Math.min(f.x,Z.offsetWidth):f.x)+"px";Ba.style.display="";Qb.style.display="none"}else{a=c.y==d.y;var s="";f=function(v,N,E,U){s+='<div class="CodeMirror-selected" style="position: absolute; left: '+v+"px; top: "+N+"px; right: "+E+"px; height: "+U+'px"></div>'};j=Z.clientWidth||Z.offsetWidth;o=Z.clientHeight||Z.offsetHeight;if(q.from.ch&&c.y>=0)f(c.x,c.y,a?j-d.x:0,h);c=Math.max(0,c.y+(q.from.ch?h:0));var w=Math.min(d.y,o)-c;w>0.2*h&&f(0,c,0,w);if((!a||!q.from.ch)&&
d.y<o-0.5*h)f(0,d.y,j-d.x,h);Qb.innerHTML=s;Ba.style.display="none";Qb.style.display=""}}function xc(a){Ia=a?Ia||(q.inverted?q.to:q.from):null}function ib(a,c){var d=Ia&&ja(Ia);if(d)if(Aa(d,a))a=d;else if(Aa(c,d))c=d;Bb(a,c);Rb=true}function Bb(a,c,d,f){Sb=null;if(d==null){d=q.from.line;f=q.to.line}if(!(ga(q.from,a)&&ga(q.to,c))){if(Aa(c,a)){var h=c;c=a;a=h}if(a.line!=d)if(d=Tb(a,d,q.from.ch))a=d;else jc(a.line,false);if(c.line!=f)c=Tb(c,f,q.to.ch);if(ga(a,c))q.inverted=false;else if(ga(a,q.to))q.inverted=
false;else if(ga(c,q.from))q.inverted=true;if(r.autoClearEmptyLines&&ga(q.from,q.to))if((q.inverted?a:c).line!=q.from.line&&q.from.line<B.size){var j=g(q.from.line);/^\s+$/.test(j.text)&&setTimeout(Q(function(){if(j.parent&&/^\s+$/.test(j.text)){var o=K(j);ka("",{line:o,ch:0},{line:o,ch:j.text.length})}},10))}q.from=a;q.to=c;jb=true}}function Tb(a,c,d){function f(h){for(var j=a.line+h,o=h==1?B.size:-1;j!=o;){var s=g(j);if(!s.hidden){h=a.ch;if(h>d||h>s.text.length)h=s.text.length;return{line:j,ch:h}}j+=
h}}if(!g(a.line).hidden)return a;return a.line>=c?f(1)||f(-1):f(-1)||f(1)}function kb(a,c,d){a=ja({line:a,ch:c||0});(d?ib:Bb)(a,a)}function Ub(a){return Math.max(0,Math.min(a,B.size-1))}function ja(a){if(a.line<0)return{line:0,ch:0};if(a.line>=B.size)return{line:B.size-1,ch:g(B.size-1).text.length};var c=a.ch,d=g(a.line).text.length;return c==null||c>d?{line:a.line,ch:d}:c<0?{line:a.line,ch:0}:a}function kc(a,c){function d(s){if(j==(a<0?0:o.text.length)){if(s=!s)a:{s=h+a;for(var w=a<0?-1:B.size;s!=
w;s+=a){var v=g(s);if(!v.hidden){h=s;o=v;s=true;break a}}s=void 0}if(s)j=a<0?o.text.length:0;else return false}else j+=a;return true}var f=q.inverted?q.from:q.to,h=f.line,j=f.ch,o=g(h);if(c=="char")d();else if(c=="column")d(true);else if(c=="word")for(f=false;;){if(a<0)if(!d())break;if(Fb(o.text.charAt(j)))f=true;else if(f){if(a<0){a=1;d()}break}if(a>0)if(!d())break}return{line:h,ch:j}}function Dc(a){for(var c=g(a.line).text,d=a.ch,f=a.ch;d>0&&Fb(c.charAt(d-1));)--d;for(;f<c.length&&Fb(c.charAt(f));)++f;
ib({line:a.line,ch:d},{line:a.line,ch:f})}function Yc(a){ib({line:a,ch:0},ja({line:a+1,ch:0}))}function Vb(a,c){c||(c="add");if(c=="smart")if(la.indent)var d=Wb(a);else c="prev";var f=g(a),h=f.indentation(r.tabSize),j=f.text.match(/^\s*/)[0],o;if(c=="prev")o=a?g(a-1).indentation(r.tabSize):0;else if(c=="smart")o=la.indent(d,f.text.slice(j.length),f.text);else if(c=="add")o=h+r.indentUnit;else if(c=="subtract")o=h-r.indentUnit;o=Math.max(0,o);if(o-h){h="";d=0;if(r.indentWithTabs)for(f=Math.floor(o/
r.tabSize);f;--f){d+=r.tabSize;h+="\t"}for(;d<o;){++d;h+=" "}}else{if(q.from.line!=a&&q.to.line!=a)return;h=j}ka(h,{line:a,ch:0},{line:a,ch:j.length})}function Ec(){la=J.getMode(r,r.mode);B.iter(0,B.size,function(a){a.stateAfter=null});Ra=[0];dc()}function Zc(){if(r.lineWrapping){ma.className+=" CodeMirror-wrap";var a=L.clientWidth/cc()-3;B.iter(0,B.size,function(c){if(!c.hidden){var d=Math.ceil(c.text.length/a)||1;d!=1&&l(c,d)}});Z.style.width=ua.style.width=""}else{ma.className=ma.className.replace(" CodeMirror-wrap",
"");cb=null;bb="";B.iter(0,B.size,function(c){c.height!=1&&!c.hidden&&l(c,1);if(c.text.length>bb.length)bb=c.text})}Ma.push({from:0,to:B.size})}function Cc(a){a=r.tabSize-a%r.tabSize;var c=Fc[a];if(c)return c;c='<span class="cm-tab">';for(var d=0;d<a;++d)c+=" ";return Fc[a]={html:c+"</span>",width:a}}function Gc(){L.className=L.className.replace(/\s*cm-s-\w+/g,"")+r.theme.replace(/(^|\s)\s*/g," cm-s-")}function lc(){this.set=[]}function mc(a,c,d){function f(s,w,v,N){g(s).addMark(new H(w,v,N,h))}a=
ja(a);c=ja(c);var h=new lc;if(!Aa(a,c))return h;if(a.line==c.line)f(a.line,a.ch,c.ch,d);else{f(a.line,a.ch,null,d);for(var j=a.line+1,o=c.line;j<o;++j)f(j,null,null,d);f(c.line,null,c.ch,d)}Ma.push({from:a.line,to:c.line+1});return h}function Hc(a,c){var d=a,f=a;if(typeof a=="number")f=g(Ub(a));else d=K(a);if(d==null)return null;if(c(f,d))Ma.push({from:d,to:d+1});else return null;return f}function jc(a,c){return Hc(a,function(d,f){if(d.hidden!=c){d.hidden=c;l(d,c?0:1);var h=q.from.line,j=q.to.line;
if(c&&(h==f||j==f)){h=h==f?Tb({line:h,ch:0},h,0):q.from;j=j==f?Tb({line:j,ch:0},j,0):q.to;if(!j)return;Bb(h,j)}return Oa=true}})}function hc(a){lb.innerHTML="<pre><span>x</span></pre>";lb.firstChild.firstChild.firstChild.nodeValue=a;return lb.firstChild.firstChild.offsetWidth||10}function Ic(a,c){if(c==0)return{top:0,left:0};var d="";if(r.lineWrapping){d=a.text.indexOf(" ",c+6);d=za(a.text.slice(c+1,d<0?a.text.length:d+(C?5:0)))}lb.innerHTML="<pre>"+a.getHTML(Cc,c)+'<span id="CodeMirror-temp-'+Jc+
'">'+za(a.text.charAt(c)||" ")+"</span>"+d+"</pre>";d=document.getElementById("CodeMirror-temp-"+Jc);var f=d.offsetTop,h=d.offsetLeft;if(C&&f==0&&h==0){f=document.createElement("span");f.innerHTML="x";d.parentNode.insertBefore(f,d.nextSibling);f=f.offsetTop}return{top:f,left:h}}function Ya(a,c){var d,f=db(),h=f*(R(B,a.line)-(c?Db:0));if(a.ch==0)d=0;else{var j=Ic(g(a.line),a.ch);d=j.left;if(r.lineWrapping)h+=Math.max(0,j.top)}return{x:d,y:h,yBot:h+f}}function nc(a,c){function d(Y){Y=Ic(s,Y);if(v)return Math.max(0,
Y.left+(Math.round(Y.top/f)-N)*L.clientWidth);return Y.left}if(c<0)c=0;var f=db(),h=cc(),j=Db+Math.floor(c/f),o=G(B,j);if(o>=B.size)return{line:B.size-1,ch:g(B.size-1).text.length};var s=g(o),w=s.text,v=r.lineWrapping,N=v?j-R(B,o):0;if(a<=0&&N==0)return{line:o,ch:0};var E=j=0;w=w.length;var U;for(h=Math.min(w,Math.ceil((a+N*L.clientWidth*0.9)/h));;){var ta=d(h);if(ta<=a&&h<w)h=Math.min(w,Math.ceil(h*1.2));else{U=ta;w=h;break}}if(a>U)return{line:o,ch:w};h=Math.floor(w*0.8);ta=d(h);if(ta<a){j=h;E=ta}for(;;){if(w-
j<=1)return{line:o,ch:U-a>a-E?j:w};h=Math.ceil((j+w)/2);ta=d(h);if(ta>a){w=h;U=ta}else{j=h;E=ta}}}function db(){if(Gb==null){Gb="<pre>";for(var a=0;a<49;++a)Gb+="x<br/>";Gb+="x</pre>"}a=Ea.clientHeight;if(a==Kc)return oc;Kc=a;lb.innerHTML=Gb;oc=lb.firstChild.offsetHeight/50||1;lb.innerHTML="";return oc}function cc(){if(L.clientWidth==Lc)return Mc;Lc=L.clientWidth;return Mc=hc("x")}function vb(a,c){var d=Ga(L,true),f,h;try{f=a.clientX;h=a.clientY}catch(j){return null}if(!c&&(f-d.left>L.clientWidth||
h-d.top>L.clientHeight))return null;d=Ga(Z,true);return nc(f-d.left,h-d.top)}function Nc(a){function c(){var s=xb(da.value).join("\n");s!=j&&Q(Da)(s,"end");qb.style.position="relative";da.style.cssText=h;if(I)L.scrollTop=f;yb=false;Qa(true);Va()}var d=vb(a),f=L.scrollTop;if(!(!d||window.opera)){if(ga(q.from,q.to)||Aa(d,q.from)||!Aa(d,q.to))Q(kb)(d.line,d.ch);var h=da.style.cssText;qb.style.position="absolute";da.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+
(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";yb=true;var j=da.value=fb();va();Ob(da);if(A){ea(a);var o=z(window,"mouseup",function(){o();setTimeout(c,20)},true)}else setTimeout(c,50)}}function yc(){clearInterval(bc);var a=true;Ba.style.visibility="";bc=setInterval(function(){Ba.style.visibility=(a=!a)?"":"hidden"},650)}function Oc(a){function c(Sa,$c,ad){if(Sa.text){var Hb=Sa.styles;Sa=o?0:Sa.text.length-
1;for(var pc,Ib=o?0:Hb.length-2,bd=o?Hb.length:-2;Ib!=bd;Ib+=2*s){var Xb=Hb[Ib];if(Hb[Ib+1]!=null&&Hb[Ib+1]!=E)Sa+=s*Xb.length;else for(var qc=o?0:Xb.length-1,cd=o?Xb.length:-1;qc!=cd;qc+=s,Sa+=s)if(Sa>=$c&&Sa<ad&&ta.test(pc=Xb.charAt(qc))){var Pc=rc[pc];if(Pc.charAt(1)==">"==o)U.push(pc);else if(U.pop()!=Pc.charAt(0))return{pos:Sa,match:false};else if(!U.length)return{pos:Sa,match:true}}}}}var d=q.inverted?q.from:q.to,f=g(d.line),h=d.ch-1,j=h>=0&&rc[f.text.charAt(h)]||rc[f.text.charAt(++h)];if(j){j.charAt(0);
var o=j.charAt(1)==">",s=o?1:-1,w=f.styles,v=h+1;j=0;for(var N=w.length;j<N;j+=2)if((v-=w[j].length)<=0){var E=w[j+1];break}var U=[f.text.charAt(h)],ta=/[(){}[\]]/;j=d.line;for(N=o?Math.min(j+100,B.size):Math.max(-1,j-100);j!=N;j+=s){f=g(j);var Y=j==d.line;if(Y=c(f,Y&&o?h+1:0,Y&&!o?h:f.text.length))break}Y||(Y={pos:null,match:false});E=Y.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var Mb=mc({line:d.line,ch:h},{line:d.line,ch:h+1},E),Qc=Y.pos!=null&&mc({line:j,ch:Y.pos},{line:j,
ch:Y.pos+1},E);d=Q(function(){Mb.clear();Qc&&Qc.clear()});if(a)setTimeout(d,800);else ab=d}}function Rc(a){var c,d,f=a;for(a=a-40;f>a;--f){if(f==0)return 0;var h=g(f-1);if(h.stateAfter)return f;h=h.indentation(r.tabSize);if(d==null||c>h){d=f-1;c=h}}return d}function Wb(a){var c=Rc(a),d=c&&g(c-1).stateAfter;d=d?S(la,d):W(la);B.iter(c,a,function(f){f.highlight(la,d,r.tabSize);f.stateAfter=S(la,d)});c<a&&Ma.push({from:c,to:a});a<B.size&&!g(a).stateAfter&&Ra.push(a);return d}function Uc(a,c){var d=Wb(a);
B.iter(a,c,function(f){f.highlight(la,d,r.tabSize);f.stateAfter=S(la,d)})}function dd(){for(var a=+new Date+r.workTime,c=Ra.length;Ra.length;){var d=g(oa).stateAfter?Ra.pop():oa;if(!(d>=B.size)){var f=Rc(d),h=f&&g(f-1).stateAfter;h=h?S(la,h):W(la);var j=0,o=la.compareStates,s=false,w=f,v=false;B.iter(w,B.size,function(N){var E=N.stateAfter;if(+new Date>a){Ra.push(w);dc(r.workDelay);s&&Ma.push({from:d,to:w+1});return v=true}var U=N.highlight(la,h,r.tabSize);if(U)s=true;N.stateAfter=S(la,h);if(o){if(E&&
o(E,h))return true}else if(U!==false||!E)j=0;else if(++j>3&&(!la.indent||la.indent(E,"")==la.indent(h,"")))return true;++w});if(v)return;s&&Ma.push({from:d,to:w+1})}}c&&r.onHighlightComplete&&r.onHighlightComplete(ia)}function dc(a){Ra.length&&ed.set(a,Q(dd))}function fc(){$a=Rb=Ab=null;Ma=[];jb=false;zb=[]}function gc(){var a=false,c;if(jb)a=!ob();if(Ma.length)c=pb(Ma,true);else{jb&&Bc();Oa&&ic()}a&&ob();if(jb){hb();yc()}if(Ja&&!yb&&($a===true||$a!==false&&jb))Qa(Rb);jb&&r.matchBrackets&&setTimeout(Q(function(){if(ab){ab();
ab=null}ga(q.from,q.to)&&Oc(false)}),20);var d=Ab;a=zb;jb&&r.onCursorActivity&&r.onCursorActivity(ia);d&&r.onChange&&ia&&r.onChange(ia,d);for(d=0;d<a.length;++d)a[d](ia);c&&r.onUpdate&&r.onUpdate(ia)}function Q(a){return function(){Sc++||fc();try{var c=a.apply(this,arguments)}finally{--Sc||gc()}return c}}var r={},sc=J.defaults;for(var Yb in sc)if(sc.hasOwnProperty(Yb))r[Yb]=(e&&e.hasOwnProperty(Yb)?e:sc)[Yb];var ma=document.createElement("div");ma.className="CodeMirror"+(r.lineWrapping?" CodeMirror-wrap":
"");ma.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
b.appendChild?b.appendChild(ma):b(ma);var qb=ma.firstChild,da=qb.firstChild,L=ma.lastChild,ua=L.firstChild,Pb=ua.firstChild,wa=Pb.firstChild,Eb=wa.firstChild,Z=wa.nextSibling.firstChild,lb=Z.firstChild,Ba=lb.nextSibling,Qb=Ba.nextSibling,Ea=Qb.nextSibling;Gc();if(wb)da.style.width="0px";if(!pa)Z.draggable=true;Z.style.outline="none";if(r.tabindex!=null)da.tabIndex=r.tabindex;r.autofocus&&va();if(!r.gutter&&!r.lineNumbers)wa.style.display="none";if(Ca){qb.style.height="1px";qb.style.position="absolute"}try{hc("x")}catch(tc){if(tc.message.match(/runtime/i))tc=
Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)");throw tc;}var ec=new P,ed=new P,bc,la,B=new x([new D([new k("")])]),Ra,Ja;Ec();var q={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false},Ia,Zb,Jb,uc=0,vc,Nb=false,Kb=false,$a,Rb,Ma,Ab,jb,yb,Oa,zb,Db=0,oa=0,Fa=0,Ac=0,ab,bb="",cb,Fc={};Q(function(){p(r.value||"");$a=false})();var Ka=new ba;z(L,"mousedown",Q(function(a){function c(v){var N=vb(v,true);if(N&&!ga(N,j)){Ja||ya();j=N;ib(h,N);$a=false;var E=
zc();if(N.line>=E.to||N.line<E.from)o=setTimeout(Q(function(){c(v)}),150)}}function d(v){clearTimeout(o);var N=vb(v);N&&ib(h,N);T(v);va();$a=true;w();s()}xc(t(a,"shiftKey"));for(var f=a.target||a.srcElement;f!=ma;f=f.parentNode)if(f.parentNode==ua&&f!=Pb)return;for(f=a.target||a.srcElement;f!=ma;f=f.parentNode)if(f.parentNode==Eb){r.onGutterClick&&r.onGutterClick(ia,Na(Eb.childNodes,f)+oa,a);return T(a)}var h=vb(a);switch(qa(a)){case 3:A&&!nb&&Nc(a);return;case 2:h&&kb(h.line,h.ch,true);return}if(h){Ja||
ya();f=+new Date;if(Jb&&Jb.time>f-400&&ga(Jb.pos,h)){T(a);setTimeout(va,20);return Yc(h.line)}else if(Zb&&Zb.time>f-400&&ga(Zb.pos,h)){Jb={time:f,pos:h};T(a);return Dc(h)}else Zb={time:f,pos:h};var j=h,o;if(fd&&!r.readOnly&&!ga(q.from,q.to)&&!Aa(h,q.from)&&!Aa(q.to,h)){if(pa)Z.draggable=true;var s=z(document,"mouseup",Q(function(v){if(pa)Z.draggable=false;vc=false;s();if(Math.abs(a.clientX-v.clientX)+Math.abs(a.clientY-v.clientY)<10){T(v);kb(h.line,h.ch,true);va()}}),true);vc=true;Z.dragDrop&&Z.dragDrop()}else{T(a);
kb(h.line,h.ch,true);var w=z(document,"mousemove",Q(function(v){clearTimeout(o);T(v);!C&&!qa(v)?d(v):c(v)}),true);s=z(document,"mouseup",Q(d),true)}}else(a.target||a.srcElement)==L&&T(a)}));z(L,"dblclick",Q(function(a){for(var c=a.target||a.srcElement;c!=ma;c=c.parentNode)if(c.parentNode==Eb)return T(a);if(c=vb(a)){Jb={time:+new Date,pos:c};T(a);Dc(c)}}));z(Z,"dragstart",function(a){var c=fb();a.dataTransfer.setData("Text",c);if(A||ra){c=document.createElement("img");c.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";
a.dataTransfer.setDragImage(c,0,0)}});z(Z,"selectstart",T);A||z(L,"contextmenu",Nc);z(L,"scroll",function(){uc=L.scrollTop;pb([]);if(r.fixedGutter)wa.style.left=L.scrollLeft+"px";r.onScroll&&r.onScroll(ia)});z(window,"resize",function(){pb(true)});z(da,"keyup",Q(function(a){if(!(r.onKeyEvent&&r.onKeyEvent(ia,Pa(a))))if(t(a,"keyCode")==16)Ia=null}));z(da,"input",Xa);z(da,"keydown",Q(xa));z(da,"keypress",Q(function(a){tb&&aa();if(!(r.onKeyEvent&&r.onKeyEvent(ia,Pa(a)))){var c=t(a,"keyCode"),d=t(a,"charCode");
if(window.opera&&c==ac){ac=null;T(a)}else if(!((window.opera&&!a.which||Ca)&&$(a))){c=String.fromCharCode(d==null?c:d);r.electricChars&&la.electricChars&&r.smartIndent&&!r.readOnly&&la.electricChars.indexOf(c)>-1&&setTimeout(Q(function(){Vb(q.to.line,"smart")}),75);ha(a,c)||Xa()}}}));z(da,"focus",ya);z(da,"blur",sa);z(L,"dragenter",ea);z(L,"dragover",ea);z(L,"drop",Q(function(a){a.preventDefault();var c=vb(a,true),d=a.dataTransfer.files;if(!(!c||r.readOnly))if(d&&d.length&&window.FileReader&&window.File){a=
function(v,N){var E=new FileReader;E.onload=function(){h[N]=E.result;if(++j==f){c=ja(c);Q(function(){var U=ka(h.join(""),c,c);ib(c,U)})()}};E.readAsText(v)};for(var f=d.length,h=Array(f),j=0,o=0;o<f;++o)a(d[o],o)}else try{if(h=a.dataTransfer.getData("Text")){o=q.from;var s=q.to;ib(c,c);vc&&ka("",o,s);Da(h);va()}}catch(w){}}));z(L,"paste",function(){va();Xa()});z(da,"paste",Xa);z(da,"cut",Q(function(){r.readOnly||Da("")}));Ca&&z(ua,"mouseup",function(){document.activeElement==da&&da.blur();va()});
var Tc;try{Tc=document.activeElement==da}catch(hd){}Tc||r.autofocus?setTimeout(ya,20):sa();var ia=ma.CodeMirror={getValue:function(){var a=[];B.iter(0,B.size,function(c){a.push(c.text)});return a.join("\n")},setValue:Q(p),getSelection:fb,replaceSelection:Q(Da),focus:function(){window.focus();va();ya();Xa()},setOption:function(a,c){var d=r[a];r[a]=c;if(a=="mode"||a=="indentUnit")Ec();else if(a=="readOnly"&&c=="nocursor"){sa();da.blur()}else if(a=="readOnly"&&!c)Qa(true);else if(a=="theme")Gc();else if(a==
"lineWrapping"&&d!=c)Q(Zc)();else a=="tabSize"&&pb(true);if(a=="lineNumbers"||a=="gutter"||a=="firstLineNumber"||a=="theme"){d=r.gutter||r.lineNumbers;wa.style.display=d?"":"none";if(d)Oa=true;else Ea.parentNode.style.marginLeft=0;pb(true)}},getOption:function(a){return r[a]},undo:Q(function(){ub(Ka.done,Ka.undone)}),redo:Q(function(){ub(Ka.undone,Ka.done)}),indentLine:Q(function(a,c){if(typeof c!="string")c=c==null?r.smartIndent?"smart":"prev":c?"add":"subtract";i(a)&&Vb(a,c)}),indentSelection:Q(function(a){if(ga(q.from,
q.to))return Vb(q.from.line,a);for(var c=q.to.line-(q.to.ch?0:1),d=q.from.line;d<=c;++d)Vb(d,a)}),historySize:function(){return{undo:Ka.done.length,redo:Ka.undone.length}},clearHistory:function(){Ka=new ba},matchBrackets:Q(function(){Oc(true)}),getTokenAt:Q(function(a){a=ja(a);return g(a.line).getTokenAt(la,Wb(a.line),a.ch)}),getStateAfter:function(a){a=Ub(a==null?B.size-1:a);return Wb(a+1)},cursorCoords:function(a,c){if(a==null)a=q.inverted;return this.charCoords(a?q.from:q.to,c)},charCoords:function(a,
c){a=ja(a);if(c=="local")return Ya(a,false);if(c=="div")return Ya(a,true);var d=Ya(a,true),f=Ga(Z);return{x:f.left+d.x,y:f.top+d.y,yBot:f.top+d.yBot}},coordsChar:function(a){var c=Ga(Z);return nc(a.x-c.left,a.y-c.top)},markText:Q(mc),setBookmark:function(a){a=ja(a);var c=new n(a.ch);g(a.line).addMark(c);return c},findMarksAt:function(a){a=ja(a);var c=[],d=g(a.line).marked;if(!d)return c;for(var f=0,h=d.length;f<h;++f){var j=d[f];if((j.from==null||j.from<=a.ch)&&(j.to==null||j.to>=a.ch))c.push(j.marker||
j)}return c},setMarker:Q(function(a,c,d){if(typeof a=="number")a=g(Ub(a));a.gutterMarker={text:c,style:d};Oa=true;return a}),clearMarker:Q(function(a){if(typeof a=="number")a=g(Ub(a));a.gutterMarker=null;Oa=true}),setLineClass:Q(function(a,c,d){return Hc(a,function(f){if(f.className!=c||f.bgClassName!=d){f.className=c;f.bgClassName=d;return true}})}),hideLine:Q(function(a){return jc(a,true)}),showLine:Q(function(a){return jc(a,false)}),onDeleteLine:function(a,c){if(typeof a=="number"){if(!i(a))return null;
a=g(a)}(a.handlers||(a.handlers=[])).push(c);return a},lineInfo:function(a){if(typeof a=="number"){if(!i(a))return null;var c=a;a=g(a);if(!a)return null}else{c=K(a);if(c==null)return null}var d=a.gutterMarker;return{line:c,handle:a,text:a.text,markerText:d&&d.text,markerClass:d&&d.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,c,d,f,h){a=Ya(ja(a));var j=a.yBot,o=a.x;c.style.position="absolute";ua.appendChild(c);if(f=="over")j=a.y;else if(f=="near"){f=Math.max(L.offsetHeight,
B.height*db());var s=Math.max(ua.clientWidth,Z.clientWidth)-Z.offsetLeft;if(a.yBot+c.offsetHeight>f&&a.y>c.offsetHeight)j=a.y-c.offsetHeight;if(o+c.offsetWidth>s)o=s-c.offsetWidth}c.style.top=j+Z.offsetTop+"px";c.style.left=c.style.right="";if(h=="right"){o=ua.clientWidth-c.offsetWidth;c.style.right="0px"}else{if(h=="left")o=0;else if(h=="middle")o=(ua.clientWidth-c.offsetWidth)/2;c.style.left=o+Z.offsetLeft+"px"}d&&Cb(o,j,o+c.offsetWidth,j+c.offsetHeight)},lineCount:function(){return B.size},clipPos:ja,
getCursor:function(a){if(a==null)a=q.inverted;return{line:(a?q.from:q.to).line,ch:(a?q.from:q.to).ch}},somethingSelected:function(){return!ga(q.from,q.to)},setCursor:Q(function(a,c,d){c==null&&typeof a.line=="number"?kb(a.line,a.ch,d):kb(a,c,d)}),setSelection:Q(function(a,c,d){(d?ib:Bb)(ja(a),ja(c||a))}),getLine:function(a){if(i(a))return g(a).text},getLineHandle:function(a){if(i(a))return g(a)},setLine:Q(function(a,c){i(a)&&ka(c,{line:a,ch:0},{line:a,ch:g(a).text.length})}),removeLine:Q(function(a){i(a)&&
ka("",{line:a,ch:0},ja({line:a+1,ch:0}))}),replaceRange:Q(ka),getRange:function(a,c){return eb(ja(a),ja(c))},triggerOnKeyDown:Q(xa),execCommand:function(a){return fa[a](ia)},moveH:Q(function(a,c){var d=a<0?q.from:q.to;if(Ia||ga(q.from,q.to))d=kc(a,c);kb(d.line,d.ch,true)}),deleteH:Q(function(a,c){if(ga(q.from,q.to))a<0?ka("",kc(a,c),q.to):ka("",q.from,kc(a,c));else ka("",q.from,q.to);Rb=true}),moveV:Q(function(a,c){var d=0,f=Ya(q.inverted?q.from:q.to,true);if(Sb!=null)f.x=Sb;if(c=="page")d=Math.min(L.clientHeight,
window.innerHeight||document.documentElement.clientHeight);else if(c=="line")d=db();d=nc(f.x,f.y+d*a+2);if(c=="page")L.scrollTop+=Ya(d,true).y-f.y;kb(d.line,d.ch,true);Sb=f.x}),toggleOverwrite:function(){if(Nb){Nb=false;Ba.className=Ba.className.replace(" CodeMirror-overwrite","")}else{Nb=true;Ba.className+=" CodeMirror-overwrite"}},posFromIndex:function(a){var c=0,d;B.iter(0,B.size,function(f){f=f.text.length+1;if(f>a){d=a;return true}a-=f;++c});return ja({line:c,ch:d})},indexFromPos:function(a){if(a.line<
0||a.ch<0)return 0;var c=a.ch;B.iter(0,a.line,function(d){c+=d.text.length+1});return c},scrollTo:function(a,c){if(a!=null)L.scrollLeft=a;if(c!=null)L.scrollTop=c;pb([])},operation:function(a){return Q(a)()},refresh:function(){pb(true);if(L.scrollHeight>uc)L.scrollTop=uc},getInputField:function(){return da},getWrapperElement:function(){return ma},getScrollerElement:function(){return L},getGutterElement:function(){return wa}},ac=null,wc,tb=false,gb="",Sb=null;lc.prototype.clear=Q(function(){for(var a=
Infinity,c=-Infinity,d=0,f=this.set.length;d<f;++d){var h=this.set[d],j=h.marked;if(j&&h.parent){h=K(h);a=Math.min(a,h);c=Math.max(c,h);for(h=0;h<j.length;++h)j[h].marker==this&&j.splice(h--,1)}}a!=Infinity&&Ma.push({from:a,to:c+1})});lc.prototype.find=function(){for(var a,c,d=0,f=this.set.length;d<f;++d)for(var h=this.set[d],j=h.marked,o=0;o<j.length;++o){var s=j[o];if(s.marker==this)if(s.from!=null||s.to!=null){var w=K(h);if(w!=null){if(s.from!=null)a={line:w,ch:s.from};if(s.to!=null)c={line:w,
ch:s.to}}}}return{from:a,to:c}};var Jc=Math.floor(Math.random()*16777215).toString(16),oc,Kc,Gb,Mc,Lc=0,rc={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Sc=0;for(var $b in rb)if(rb.propertyIsEnumerable($b)&&!ia.propertyIsEnumerable($b))ia[$b]=rb[$b];return ia}function F(b){return typeof b=="string"?Ta[b]:b}function O(b,e,i,g){function l(p){p=F(p);var u=p[b];if(u!=null&&g(u))return true;if(p.catchall)return g(p.catchall);p=p.fallthrough;if(p==null)return false;if(Object.prototype.toString.call(p)!=
"[object Array]")return l(p);u=0;for(var $=p.length;u<$;++u)if(l(p[u]))return true;return false}if(e&&l(e))return true;return l(i)}function M(b){b=mb[t(b,"keyCode")];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}function S(b,e){if(e===true)return e;if(b.copyState)return b.copyState(e);var i={};for(var g in e){var l=e[g];if(l instanceof Array)l=l.concat([]);i[g]=l}return i}function W(b,e,i){return b.startState?b.startState(e,i):true}function V(b,e){this.pos=this.start=0;this.string=b;this.tabSize=
e||8}function H(b,e,i,g){this.from=b;this.to=e;this.style=i;this.marker=g}function n(b){this.to=this.from=b;this.line=null}function k(b,e){this.styles=e||[b,null];this.text=b;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function y(b,e,i,g){for(var l=0,p=0,u=0;p<e;l+=2){var $=i[l],ha=p+$.length;if(u==0){ha>b&&g.push($.slice(b-p,Math.min($.length,e-p)),i[l+1]);if(ha>=b)u=1}else if(u==1)ha>e?g.push($.slice(0,e-
p),i[l+1]):g.push($,i[l+1]);p=ha}}function D(b){this.lines=b;this.parent=null;for(var e=0,i=b.length,g=0;e<i;++e){b[e].parent=this;g+=b[e].height}this.height=g}function x(b){this.children=b;for(var e=0,i=0,g=0,l=b.length;g<l;++g){var p=b[g];e+=p.chunkSize();i+=p.height;p.parent=this}this.size=e;this.height=i;this.parent=null}function K(b){if(b.parent==null)return null;var e=b.parent;b=Na(e.lines,b);for(var i=e.parent;i;e=i,i=i.parent)for(var g=0;;++g){if(i.children[g]==e)break;b+=i.children[g].chunkSize()}return b}
function G(b,e){var i=0;a:do{for(var g=0,l=b.children.length;g<l;++g){var p=b.children[g],u=p.height;if(e<u){b=p;continue a}e-=u;i+=p.chunkSize()}return i}while(!b.lines);g=0;for(l=b.lines.length;g<l;++g){p=b.lines[g].height;if(e<p)break;e-=p}return i+g}function R(b,e){var i=0;a:do{for(var g=0,l=b.children.length;g<l;++g){var p=b.children[g],u=p.chunkSize();if(e<u){b=p;continue a}e-=u;i+=p.height}return i}while(!b.lines);for(g=0;g<e;++g)i+=b.lines[g].height;return i}function ba(){this.time=0;this.done=
[];this.undone=[]}function ca(){ea(this)}function Pa(b){if(!b.stop)b.stop=ca;return b}function T(b){if(b.preventDefault)b.preventDefault();else b.returnValue=false}function na(b){if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true}function ea(b){T(b);na(b)}function qa(b){if(b.which)return b.which;else if(b.button&1)return 1;else if(b.button&2)return 3;else if(b.button&4)return 2}function t(b,e){return b.override&&b.override.hasOwnProperty(e)?b.override[e]:b[e]}function z(b,e,i,g){if(typeof b.addEventListener==
"function"){b.addEventListener(e,i,false);if(g)return function(){b.removeEventListener(e,i,false)}}else{var l=function(p){i(p||window.event)};b.attachEvent("on"+e,l);if(g)return function(){b.detachEvent("on"+e,l)}}}function P(){this.id=null}function X(b,e,i){if(e==null){e=b.search(/[^\s\u00a0]/);if(e==-1)e=b.length}for(var g=0,l=0;g<e;++g)if(b.charAt(g)=="\t")l+=i-l%i;else++l;return l}function Ga(b,e){for(var i=b.ownerDocument.body,g=0,l=0,p=false,u=b;u;u=u.offsetParent){var $=u.offsetLeft,ha=u.offsetTop;
if(u==i){g+=Math.abs($);l+=Math.abs(ha)}else{g+=$;l+=ha}if($=e)$=(u.currentStyle?u.currentStyle:window.getComputedStyle(u,null)).position=="fixed";if($)p=true}i=e&&!p?null:i;for(u=b.parentNode;u!=i;u=u.parentNode)if(u.scrollLeft!=null){g-=u.scrollLeft;l-=u.scrollTop}return{left:g,top:l}}function Ob(b){if(wb){b.selectionStart=0;b.selectionEnd=b.value.length}else b.select()}function ga(b,e){return b.line==e.line&&b.ch==e.ch}function Aa(b,e){return b.line<e.line||b.line==e.line&&b.ch<e.ch}function za(b){sb.textContent=
b;return sb.innerHTML}function Lb(b,e){if(!e)return 0;if(!b)return e.length;for(var i=b.length,g=e.length;i>=0&&g>=0;--i,--g)if(b.charAt(i)!=e.charAt(g))break;return g+1}function Na(b,e){if(b.indexOf)return b.indexOf(e);for(var i=0,g=b.length;i<g;++i)if(b[i]==e)return i;return-1}function Fb(b){return/\w/.test(b)||b.toUpperCase()!=b.toLowerCase()}J.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,
autoClearEmptyLines:false,onKeyEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var wb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),nb=wb||/Mac/.test(navigator.platform);
/Win/.test(navigator.platform);var Ha=J.modes={},Za=J.mimeModes={};J.defineMode=function(b,e){if(!J.defaults.mode&&b!="null")J.defaults.mode=b;Ha[b]=e};J.defineMIME=function(b,e){Za[b]=e};J.resolveMode=function(b){if(typeof b=="string"&&Za.hasOwnProperty(b))b=Za[b];else if(typeof b=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return J.resolveMode("application/xml");return typeof b=="string"?{name:b}:b||{name:"null"}};J.getMode=function(b,e){e=J.resolveMode(e);var i=Ha[e.name];if(!i){window.console&&
console.warn("No mode "+e.name+" found, falling back to plain text.");return J.getMode(b,"text/plain")}return i(b,e)};J.listModes=function(){var b=[];for(var e in Ha)Ha.propertyIsEnumerable(e)&&b.push(e);return b};J.listMIMEs=function(){var b=[];for(var e in Za)Za.propertyIsEnumerable(e)&&b.push({mime:e,mode:Za[e]});return b};var rb=J.extensions={};J.defineExtension=function(b,e){rb[b]=e};var fa=J.commands={selectAll:function(b){b.setSelection({line:0,ch:0},{line:b.lineCount()-1})},killLine:function(b){var e=
b.getCursor(true),i=b.getCursor(false),g=!ga(e,i);!g&&b.getLine(e.line).length==e.ch?b.replaceRange("",e,{line:e.line+1,ch:0}):b.replaceRange("",e,g?i:{line:e.line})},deleteLine:function(b){var e=b.getCursor().line;b.replaceRange("",{line:e,ch:0},{line:e})},undo:function(b){b.undo()},redo:function(b){b.redo()},goDocStart:function(b){b.setCursor(0,0,true)},goDocEnd:function(b){b.setSelection({line:b.lineCount()-1},null,true)},goLineStart:function(b){b.setCursor(b.getCursor().line,0,true)},goLineStartSmart:function(b){var e=
b.getCursor(),i=b.getLine(e.line);i=Math.max(0,i.search(/\S/));b.setCursor(e.line,e.ch<=i&&e.ch?0:i,true)},goLineEnd:function(b){b.setSelection({line:b.getCursor().line},null,true)},goLineUp:function(b){b.moveV(-1,"line")},goLineDown:function(b){b.moveV(1,"line")},goPageUp:function(b){b.moveV(-1,"page")},goPageDown:function(b){b.moveV(1,"page")},goCharLeft:function(b){b.moveH(-1,"char")},goCharRight:function(b){b.moveH(1,"char")},goColumnLeft:function(b){b.moveH(-1,"column")},goColumnRight:function(b){b.moveH(1,
"column")},goWordLeft:function(b){b.moveH(-1,"word")},goWordRight:function(b){b.moveH(1,"word")},delCharLeft:function(b){b.deleteH(-1,"char")},delCharRight:function(b){b.deleteH(1,"char")},delWordLeft:function(b){b.deleteH(-1,"word")},delWordRight:function(b){b.deleteH(1,"word")},indentAuto:function(b){b.indentSelection("smart")},indentMore:function(b){b.indentSelection("add")},indentLess:function(b){b.indentSelection("subtract")},insertTab:function(b){b.replaceSelection("\t","end")},transposeChars:function(b){var e=
b.getCursor(),i=b.getLine(e.line);e.ch>0&&e.ch<i.length-1&&b.replaceRange(i.charAt(e.ch)+i.charAt(e.ch-1),{line:e.line,ch:e.ch-1},{line:e.line,ch:e.ch+1})},newlineAndIndent:function(b){b.replaceSelection("\n","end");b.indentLine(b.getCursor().line)},toggleOverwrite:function(b){b.toggleOverwrite()}},Ta=J.keyMap={};Ta.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",
Tab:"insertTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};Ta.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext",
"Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};Ta.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight",
"Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};Ta["default"]=nb?Ta.macDefault:Ta.pcDefault;Ta.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight",
"Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};J.fromTextArea=function(b,e){function i(){b.value=u.getValue()}e||(e={});e.value=b.value;if(!e.tabindex&&b.tabindex)e.tabindex=b.tabindex;if(e.autofocus==null&&b.getAttribute("autofocus")!=null)e.autofocus=true;if(b.form){var g=z(b.form,"submit",i,true);if(typeof b.form.submit=="function"){var l=b.form.submit,p=function(){i();b.form.submit=l;b.form.submit();b.form.submit=p};b.form.submit=
p}}b.style.display="none";var u=J(function($){b.parentNode.insertBefore($,b.nextSibling)},e);u.save=i;u.getTextArea=function(){return b};u.toTextArea=function(){i();b.parentNode.removeChild(u.getWrapperElement());b.style.display="";if(b.form){g();if(typeof b.form.submit=="function")b.form.submit=l}};return u};J.copyState=S;J.startState=W;V.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<
this.string.length)return this.string.charAt(this.pos++)},eat:function(b){var e=this.string.charAt(this.pos);if(typeof b=="string"?e==b:e&&(b.test?b.test(e):b(e))){++this.pos;return e}},eatWhile:function(b){for(var e=this.pos;this.eat(b););return this.pos>e},eatSpace:function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>b},skipToEnd:function(){this.pos=this.string.length},skipTo:function(b){b=this.string.indexOf(b,this.pos);if(b>-1){this.pos=b;return true}},
backUp:function(b){this.pos-=b},column:function(){return X(this.string,this.start,this.tabSize)},indentation:function(){return X(this.string,null,this.tabSize)},match:function(b,e,i){if(typeof b=="string"){if((i?this.string.toLowerCase():this.string).indexOf(i?b.toLowerCase():b,this.pos)==this.pos){if(e!==false)this.pos+=b.length;return true}}else{if((b=this.string.slice(this.pos).match(b))&&e!==false)this.pos+=b[0].length;return b}},current:function(){return this.string.slice(this.start,this.pos)}};
J.StringStream=V;H.prototype={attach:function(b){this.marker.set.push(b)},detach:function(b){b=Na(this.marker.set,b);b>-1&&this.marker.set.splice(b,1)},split:function(b,e){if(this.to<=b&&this.to!=null)return null;return new H(this.from<b||this.from==null?null:this.from-b+e,this.to==null?null:this.to-b+e,this.style,this.marker)},dup:function(){return new H(null,null,this.style,this.marker)},clipTo:function(b,e,i,g,l){if(b&&g>this.from&&(g<this.to||this.to==null))this.from=null;else if(this.from!=null&&
this.from>=e)this.from=Math.max(g,this.from)+l;if(i&&(e<this.to||this.to==null)&&(e>this.from||this.from==null))this.to=null;else if(this.to!=null&&this.to>e)this.to=g<this.to?this.to+l:e},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(b){return this.marker==b.marker}};n.prototype={attach:function(b){this.line=b},detach:function(b){if(this.line==b)this.line=null},split:function(b,e){if(b<this.from){this.from=this.to=this.from-b+e;return this}},isDead:function(){return this.from>
this.to},clipTo:function(b,e,i,g,l){if((b||e<this.from)&&(i||g>this.to)){this.from=0;this.to=-1}else if(this.from>e)this.from=this.to=Math.max(g,this.from)+l},sameSet:function(){return false},find:function(){if(!this.line||!this.line.parent)return null;return{line:K(this.line),ch:this.from}},clear:function(){if(this.line){var b=Na(this.line.marked,this);b!=-1&&this.line.marked.splice(b,1);this.line=null}}};k.inheritMarks=function(b,e){var i=new k(b),g=e&&e.marked;if(g)for(var l=0;l<g.length;++l)if(g[l].to==
null&&g[l].style){var p=i.marked||(i.marked=[]),u=g[l].dup();p.push(u);u.attach(i)}return i};k.prototype={replace:function(b,e,i){var g=[],l=this.marked,p=e==null?this.text.length:e;y(0,b,this.styles,g);i&&g.push(i,null);y(p,this.text.length,this.styles,g);this.styles=g;this.text=this.text.slice(0,b)+i+this.text.slice(p);this.stateAfter=null;if(l){i=i.length-(p-b);for(g=0;g<l.length;++g){var u=l[g];u.clipTo(b==null,b||0,e==null,p,i);if(u.isDead()){u.detach(this);l.splice(g--,1)}}}},split:function(b,
e){var i=[e,null],g=this.marked;y(b,this.text.length,this.styles,i);i=new k(e+this.text.slice(b),i);if(g)for(var l=0;l<g.length;++l){var p=g[l],u=p.split(b,e.length);if(u){if(!i.marked)i.marked=[];i.marked.push(u);u.attach(i);u==p&&g.splice(l--,1)}}return i},append:function(b){var e=this.text.length,i=b.marked,g=this.marked;this.text+=b.text;y(0,b.text.length,b.styles,this.styles);if(g)for(b=0;b<g.length;++b)if(g[b].to==null)g[b].to=e;if(i&&i.length){if(!g)this.marked=g=[];b=0;a:for(;b<i.length;++b){var l=
i[b];if(!l.from)for(var p=0;p<g.length;++p){var u=g[p];if(u.to==e&&u.sameSet(l)){u.to=l.to==null?null:l.to+e;if(u.isDead()){u.detach(this);i.splice(b--,1)}continue a}}g.push(l);l.attach(this);l.from+=e;if(l.to!=null)l.to+=e}}},fixMarkEnds:function(b){var e=this.marked;b=b.marked;if(e)for(var i=0;i<e.length;++i){var g=e[i],l=g.to==null;if(l&&b)for(var p=0;p<b.length;++p)if(b[p].sameSet(g)){l=false;break}if(l)g.to=this.text.length}},fixMarkStarts:function(){var b=this.marked;if(b)for(var e=0;e<b.length;++e)if(b[e].from==
null)b[e].from=0},addMark:function(b){b.attach(this);if(this.marked==null)this.marked=[];this.marked.push(b);this.marked.sort(function(e,i){return(e.from||0)-(i.from||0)})},highlight:function(b,e,i){i=new V(this.text,i);var g=this.styles,l=0,p=false,u=g[0],$;for(this.text==""&&b.blankLine&&b.blankLine(e);!i.eol();){var ha=b.token(i,e),xa=this.text.slice(i.start,i.pos);i.start=i.pos;if(l&&g[l-1]==ha)g[l-2]+=xa;else if(xa){if(!p&&(g[l+1]!=ha||l&&g[l-2]!=$))p=true;g[l++]=xa;g[l++]=ha;$=u;u=g[l]}if(i.pos>
5E3){g[l++]=this.text.slice(i.pos);g[l++]=null;break}}if(g.length!=l){g.length=l;p=true}if(l&&g[l-2]!=$)p=true;return p||(g.length<5&&this.text.length<10?null:false)},getTokenAt:function(b,e,i){for(var g=new V(this.text);g.pos<i&&!g.eol();){g.start=g.pos;var l=b.token(g,e)}return{start:g.start,end:g.pos,string:g.current(),className:l||null,state:e}},indentation:function(b){return X(this.text,null,b)},getHTML:function(b,e){function i(aa,Qa){if(aa){if(p&&C&&aa.charAt(0)==" ")aa="\u00a0"+aa.slice(1);
p=false;if(aa.indexOf("\t")==-1){u+=aa.length;var va=za(aa)}else{va="";for(var hb=0;;){var ob=aa.indexOf("\t",hb);if(ob==-1){va+=za(aa.slice(hb));u+=aa.length-hb;break}else{u+=ob-hb;var Cb=b(u);va+=za(aa.slice(hb,ob))+Cb.html;u+=Cb.width;hb=ob+1}}}Qa?l.push('<span class="',Qa,'">',va,"</span>"):l.push(va)}}function g(aa){if(!aa)return null;return"cm-"+aa.replace(/ +/g," cm-")}var l=[],p=true,u=0,$=this.styles,ha=this.text,xa=this.marked,ya=ha.length;if(e!=null)ya=Math.min(e,ya);if(!ha&&e==null)i(" ");
else if(!xa||!xa.length)for(var sa=ha=0;sa<ya;ha+=2){var Ua=$[ha],ub=$[ha+1],La=Ua.length;if(sa+La>ya)Ua=Ua.slice(0,ya-sa);sa+=La;i(Ua,g(ub))}else{var ka=0;ha=0;sa="";var Da=xa[0].from||0,Wa=[],eb=0;for(Ua=function(){for(var aa;eb<xa.length&&((aa=xa[eb]).from==ka||aa.from==null);){aa.style!=null&&Wa.push(aa);++eb}Da=eb<xa.length?xa[eb].from:Infinity;for(aa=0;aa<Wa.length;++aa){var Qa=Wa[aa].to||Infinity;if(Qa==ka)Wa.splice(aa--,1);else Da=Math.min(Qa,Da)}};ka<ya;){Da==ka&&Ua();for(La=Math.min(ya,
Da);;){if(sa){for(var fb=ka+sa.length,Va=ub,Xa=0;Xa<Wa.length;++Xa)Va=(Va?Va+" ":"")+Wa[Xa].style;i(fb>La?sa.slice(0,La-ka):sa,Va);if(fb>=La){sa=sa.slice(La-ka);ka=La;break}ka=fb}sa=$[ha++];ub=g($[ha++])}}}return l.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var b=0,e=this.marked.length;b<e;++b)this.marked[b].detach(this)}};D.prototype={chunkSize:function(){return this.lines.length},remove:function(b,e,i){for(var g=b,l=b+e;g<l;++g){var p=this.lines[g];this.height-=p.height;p.cleanUp();
if(p.handlers)for(var u=0;u<p.handlers.length;++u)i.push(p.handlers[u])}this.lines.splice(b,e)},collapse:function(b){b.splice.apply(b,[b.length,0].concat(this.lines))},insertHeight:function(b,e,i){this.height+=i;this.lines.splice.apply(this.lines,[b,0].concat(e));b=0;for(i=e.length;b<i;++b)e[b].parent=this},iterN:function(b,e,i){for(e=b+e;b<e;++b)if(i(this.lines[b]))return true}};x.prototype={chunkSize:function(){return this.size},remove:function(b,e,i){this.size-=e;for(var g=0;g<this.children.length;++g){var l=
this.children[g],p=l.chunkSize();if(b<p){var u=Math.min(e,p-b),$=l.height;l.remove(b,u,i);this.height-=$-l.height;if(p==u){this.children.splice(g--,1);l.parent=null}if((e-=u)==0)break;b=0}else b-=p}if(this.size-e<25){b=[];this.collapse(b);this.children=[new D(b)];this.children[0].parent=this}},collapse:function(b){for(var e=0,i=this.children.length;e<i;++e)this.children[e].collapse(b)},insert:function(b,e){for(var i=0,g=0,l=e.length;g<l;++g)i+=e[g].height;this.insertHeight(b,e,i)},insertHeight:function(b,
e,i){this.size+=e.length;this.height+=i;for(var g=0,l=this.children.length;g<l;++g){var p=this.children[g],u=p.chunkSize();if(b<=u){p.insertHeight(b,e,i);if(p.lines&&p.lines.length>50){for(;p.lines.length>50;){b=p.lines.splice(p.lines.length-25,25);b=new D(b);p.height-=b.height;this.children.splice(g+1,0,b);b.parent=this}this.maybeSpill()}break}b-=u}},maybeSpill:function(){if(!(this.children.length<=10)){var b=this;do{var e=b.children.splice(b.children.length-5,5);e=new x(e);if(b.parent){b.size-=
e.size;b.height-=e.height;var i=Na(b.parent.children,b);b.parent.children.splice(i+1,0,e)}else{i=new x(b.children);i.parent=b;b.children=[i,e];b=i}e.parent=b.parent}while(b.children.length>10);b.parent.maybeSpill()}},iter:function(b,e,i){this.iterN(b,e-b,i)},iterN:function(b,e,i){for(var g=0,l=this.children.length;g<l;++g){var p=this.children[g],u=p.chunkSize();if(b<u){u=Math.min(e,u-b);if(p.iterN(b,u,i))return true;if((e-=u)==0)break;b=0}else b-=u}}};ba.prototype={addChange:function(b,e,i){this.undone.length=
0;var g=+new Date,l=this.done[this.done.length-1],p=l&&l[l.length-1];if(g-this.time>400||!p)this.done.push([{start:b,added:e,old:i}]);else if(p.start>b+i.length||p.start+p.added<b-p.added+p.old.length)l.push({start:b,added:e,old:i});else{l=0;if(b<p.start){for(l=p.start-b-1;l>=0;--l)p.old.unshift(i[l]);l=Math.min(0,e-i.length);p.added+=p.start-b+l;p.start=b}else if(p.start<b){l=b-p.start;e+=l}l=p.added-l;for(b=i.length;l<b;++l)p.old.push(i[l]);if(p.added<e)p.added=e}this.time=g}};J.e_stop=ea;J.e_preventDefault=
T;J.e_stopPropagation=na;J.connect=z;P.prototype={set:function(b,e){clearTimeout(this.id);this.id=setTimeout(e,b)}};var m=J.Pass={toString:function(){return"CodeMirror.Pass"}},A=/gecko\/\d{7}/i.test(navigator.userAgent),C=/MSIE \d/.test(navigator.userAgent),I=/MSIE [1-8]\b/.test(navigator.userAgent),pa=/WebKit\//.test(navigator.userAgent),ra=/Chrome\//.test(navigator.userAgent),Ca=/KHTML\//.test(navigator.userAgent),fd=function(){if(I)return false;var b=document.createElement("div");return"draggable"in
b||"dragDrop"in b}(),gd="\n";(function(){var b=document.createElement("textarea");b.value="foo\nbar";if(b.value.indexOf("\r")>-1)gd="\r\n"})();if(document.documentElement.getBoundingClientRect!=null)Ga=function(b,e){try{var i=b.getBoundingClientRect();i={top:i.top,left:i.left}}catch(g){i={top:0,left:0}}if(!e)if(window.pageYOffset==null){var l=document.documentElement||document.body.parentNode;if(l.scrollTop==null)l=document.body;i.top+=l.scrollTop;i.left+=l.scrollLeft}else{i.top+=window.pageYOffset;
i.left+=window.pageXOffset}return i};var sb=document.createElement("pre");if(za("a")=="\na")za=function(b){sb.textContent=b;return sb.innerHTML.slice(1)};else if(za("\t")!="\t")za=function(b){sb.innerHTML="";sb.appendChild(document.createTextNode(b));return sb.innerHTML};J.htmlEscape=za;var xb="\n\nb".split(/\n/).length!=3?function(b){for(var e=0,i,g=[];(i=b.indexOf("\n",e))>-1;){g.push(b.slice(e,b.charAt(i-1)=="\r"?i-1:i));e=i+1}g.push(b.slice(e));return g}:function(b){return b.split(/\r?\n/)};J.splitLines=
xb;var Vc=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(e){return false}}:function(b){try{var e=b.ownerDocument.selection.createRange()}catch(i){}if(!e||e.parentElement()!=b)return false;return e.compareEndPoints("StartToEnd",e)!=0};J.defineMode("null",function(){return{token:function(b){b.skipToEnd()}}});J.defineMIME("text/plain","null");var mb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",
33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};J.keyNames=mb;(function(){for(var b=0;b<10;b++)mb[b+48]=String(b);for(b=65;b<=90;b++)mb[b]=String.fromCharCode(b);
for(b=1;b<=12;b++)mb[b+111]=mb[b+63235]="F"+b})();return J}();
(function(){function J(F,O){var M=F.getWrapperElement();M=M.insertBefore(document.createElement("div"),M.firstChild);M.className="CodeMirror-dialog";M.innerHTML="<div>"+O+"</div>";return M}CodeMirror.defineExtension("openDialog",function(F,O){function M(){if(!W){W=true;S.parentNode.removeChild(S)}}var S=J(this,F),W=false,V=this,H=S.getElementsByTagName("input")[0];if(H){CodeMirror.connect(H,"keydown",function(n){if(n.keyCode==13||n.keyCode==27){CodeMirror.e_stop(n);M();V.focus();n.keyCode==13&&O(H.value)}});
H.focus();CodeMirror.connect(H,"blur",M)}return M});CodeMirror.defineExtension("openConfirm",function(F,O){function M(){if(!V){V=true;S.parentNode.removeChild(S);H.focus()}}var S=J(this,F),W=S.getElementsByTagName("button"),V=false,H=this,n=1;W[0].focus();for(var k=0;k<W.length;++k){var y=W[k];(function(D){CodeMirror.connect(y,"click",function(x){CodeMirror.e_preventDefault(x);M();D&&D(H)})})(O[k]);CodeMirror.connect(y,"blur",function(){--n;setTimeout(function(){n<=0&&M()},200)});CodeMirror.connect(y,
"focus",function(){++n})}})})();
(function(){function J(F,O,M,S){this.atOccurrence=false;this.cm=F;if(S==null)S=typeof O=="string"&&O==O.toLowerCase();M=M?F.clipPos(M):{line:0,ch:0};this.pos={from:M,to:M};if(typeof O!="string")this.matches=function(H,n){if(H)for(var k=F.getLine(n.line).slice(0,n.ch),y=k.match(O),D=0;y;){var x=k.indexOf(y[0]);D+=x;k=k.slice(x+1);if(x=k.match(O))y=x;else break;D++}else{k=F.getLine(n.line).slice(n.ch);D=(y=k.match(O))&&n.ch+k.indexOf(y[0])}if(y)return{from:{line:n.line,ch:D},to:{line:n.line,ch:D+y[0].length},
match:y}};else{if(S)O=O.toLowerCase();var W=S?function(H){return H.toLowerCase()}:function(H){return H},V=O.split("\n");this.matches=V.length==1?function(H,n){var k=W(F.getLine(n.line)),y=O.length,D;if(H?n.ch>=y&&(D=k.lastIndexOf(O,n.ch-y))!=-1:(D=k.indexOf(O,n.ch))!=-1)return{from:{line:n.line,ch:D},to:{line:n.line,ch:D+y}}}:function(H,n){var k=n.line,y=H?V.length-1:0,D=V[y],x=W(F.getLine(k)),K=H?x.indexOf(D)+D.length:x.lastIndexOf(D);if(!(H?K>=n.ch||K!=D.length:K<=n.ch||K!=x.length-D.length))for(;;){if(H?
!k:k==F.lineCount()-1)return;x=W(F.getLine(k+=H?-1:1));D=V[H?--y:++y];if(y>0&&y<V.length-1)if(x!=D)return;else continue;y=H?x.lastIndexOf(D):x.indexOf(D)+D.length;if(H?y!=x.length-D.length:y!=D.length)return;D={line:n.line,ch:K};k={line:k,ch:y};return{from:H?k:D,to:H?D:k}}}}}J.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(F){function O(V){V={line:V,ch:0};M.pos={from:V,to:V};return M.atOccurrence=false}for(var M=this,S=this.cm.clipPos(F?
this.pos.from:this.pos.to);;){if(this.pos=this.matches(F,S)){this.atOccurrence=true;return this.pos.match||true}if(F){if(!S.line)return O(0);S={line:S.line-1,ch:this.cm.getLine(S.line-1).length}}else{var W=this.cm.lineCount();if(S.line==W-1)return O(W);S={line:S.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(F){if(this.atOccurrence)this.pos.to=this.cm.replaceRange(F,this.pos.from,this.pos.to)}};CodeMirror.defineExtension("getSearchCursor",
function(F,O,M){return new J(this,F,O,M)})})();
(function(){function J(){this.posFrom=this.posTo=this.query=null;this.marked=[]}function F(x,K,G,R){x.openDialog?x.openDialog(K,R):R(prompt(G,""))}function O(x,K,G,R){if(x.openConfirm)x.openConfirm(K,R);else confirm(G)&&R[0]()}function M(x){var K=x.match(/^\/(.*)\/$/);return K?RegExp(K[1]):x}function S(x,K){var G=x._searchState||(x._searchState=new J);if(G.query)return W(x,K);F(x,n,"Search for:",function(R){x.operation(function(){if(!(!R||G.query)){G.query=M(R);if(x.lineCount()<2E3)for(var ba=x.getSearchCursor(R);ba.findNext();)G.marked.push(x.markText(ba.from(),
ba.to(),"CodeMirror-searching"));G.posFrom=G.posTo=x.getCursor();W(x,K)}})})}function W(x,K){x.operation(function(){var G=x._searchState||(x._searchState=new J),R=x.getSearchCursor(G.query,K?G.posFrom:G.posTo);if(!R.find(K)){R=x.getSearchCursor(G.query,K?{line:x.lineCount()-1}:{line:0,ch:0});if(!R.find(K))return}x.setSelection(R.from(),R.to());G.posFrom=R.from();G.posTo=R.to()})}function V(x){x.operation(function(){var K=x._searchState||(x._searchState=new J);if(K.query){K.query=null;for(var G=0;G<
K.marked.length;++G)K.marked[G].clear();K.marked.length=0}})}function H(x,K){F(x,k,"Replace:",function(G){if(G){G=M(G);F(x,y,"Replace with:",function(R){if(K)x.operation(function(){for(var T=x.getSearchCursor(G);T.findNext();)if(typeof G!="string"){var na=x.getRange(T.from(),T.to()).match(G);T.replace(R.replace(/\$(\d)/,function(ea,qa){return na[qa]}))}else T.replace(R)});else{V(x);var ba=x.getSearchCursor(G,x.getCursor()),ca=function(){var T=ba.from(),na;if(!(na=ba.findNext())){ba=x.getSearchCursor(G);
if(!(na=ba.findNext())||ba.from().line==T.line&&ba.from().ch==T.ch)return}x.setSelection(ba.from(),ba.to());O(x,D,"Replace?",[function(){Pa(na)},ca])},Pa=function(T){ba.replace(typeof G=="string"?R:R.replace(/\$(\d)/,function(na,ea){return T[ea]}));ca()};ca()}})}})}var n='Search: <input type="text" style="width: 10em"> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',k='Replace: <input type="text" style="width: 10em"> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',
y='With: <input type="text" style="width: 10em">',D="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(x){V(x);S(x)};CodeMirror.commands.findNext=S;CodeMirror.commands.findPrev=function(x){S(x,true)};CodeMirror.commands.clearSearch=V;CodeMirror.commands.replace=H;CodeMirror.commands.replaceAll=function(x){H(x,true)}})();
CodeMirror.defineMode("xml",function(J,F){function O(t,z){function P(Ga){z.tokenize=Ga;return Ga(t,z)}var X=t.next();if(X=="<")if(t.eat("!"))if(t.eat("["))return t.match("CDATA[")?P(W("atom","]]\>")):null;else if(t.match("--"))return P(W("comment","--\>"));else if(t.match("DOCTYPE",true,true)){t.eatWhile(/[\w\._\-]/);return P(V(1))}else return null;else if(t.eat("?")){t.eatWhile(/[\w\._\-]/);z.tokenize=W("meta","?>");return"meta"}else{na=t.eat("/")?"closeTag":"openTag";t.eatSpace();for(T="";X=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)T+=
X;z.tokenize=M;return"tag"}else if(X=="&")return(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error";else{t.eatWhile(/[^&<]/);return null}}function M(t,z){var P=t.next();if(P==">"||P=="/"&&t.eat(">")){z.tokenize=O;na=P==">"?"endTag":"selfcloseTag";return"tag"}else if(P=="="){na="equals";return null}else if(/[\'\"]/.test(P)){z.tokenize=S(P);return z.tokenize(t,z)}else{t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}
function S(t){return function(z,P){for(;!z.eol();)if(z.next()==t){P.tokenize=M;break}return"string"}}function W(t,z){return function(P,X){for(;!P.eol();){if(P.match(z)){X.tokenize=O;break}P.next()}return t}}function V(t){return function(z,P){for(var X;(X=z.next())!=null;)if(X=="<"){P.tokenize=V(t+1);return P.tokenize(z,P)}else if(X==">")if(t==1){P.tokenize=O;break}else{P.tokenize=V(t-1);return P.tokenize(z,P)}return"meta"}}function H(){for(var t=arguments.length-1;t>=0;t--)ea.cc.push(arguments[t])}
function n(){H.apply(null,arguments);return true}function k(t){if(t=="openTag"){ea.tagName=T;return n(x,y(ea.startOfLine))}else if(t=="closeTag"){t=false;if(t=ea.context?ea.context.tagName!=T:true)qa="error";return n(D(t))}return n()}function y(t){return function(z){if(z=="selfcloseTag"||z=="endTag"&&ca.autoSelfClosers.hasOwnProperty(ea.tagName.toLowerCase()))return n();if(z=="endTag"){z=ea.tagName;var P=ca.doNotIndent.hasOwnProperty(z)||ea.context&&ea.context.noIndent;ea.context={prev:ea.context,
tagName:z,indent:ea.indented,startOfLine:t,noIndent:P};return n()}return n()}}function D(t){return function(z){if(t)qa="error";if(z=="endTag"){if(ea.context)ea.context=ea.context.prev;return n()}qa="error";return n(arguments.callee)}}function x(t){if(t=="word"){qa="attribute";return n(K,x)}if(t=="endTag"||t=="selfcloseTag")return H();qa="error";return n(x)}function K(t){if(t=="equals")return n(G,x);ca.allowMissing||(qa="error");return t=="endTag"||t=="selfcloseTag"?H():n()}function G(t){if(t=="string")return n(R);
if(t=="word"&&ca.allowUnquoted){qa="string";return n()}qa="error";return t=="endTag"||t=="selfCloseTag"?H():n()}function R(t){return t=="string"?n(R):H()}var ba=J.indentUnit,ca=F.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:false}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false},Pa=F.alignCDATA,T,na,ea,qa;return{startState:function(){return{tokenize:O,
cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(t,z){if(t.sol()){z.startOfLine=true;z.indented=t.indentation()}if(t.eatSpace())return null;qa=na=T=null;var P=z.tokenize(t,z);z.type=na;if((P||na)&&P!="comment")for(ea=z;;)if((z.cc.pop()||k)(na||P))break;z.startOfLine=false;return qa||P},indent:function(t,z,P){var X=t.context;if(t.tokenize!=M&&t.tokenize!=O||X&&X.noIndent)return P?P.match(/^(\s*)/)[0].length:0;if(Pa&&/<!\[CDATA\[/.test(z))return 0;if(X&&/^<\//.test(z))X=
X.prev;for(;X&&!X.startOfLine;)X=X.prev;return X?X.indent+ba:0},compareStates:function(t,z){if(t.indented!=z.indented||t.tokenize!=z.tokenize)return false;for(var P=t.context,X=z.context;;P=P.prev,X=X.prev){if(!P||!X)return P==X;if(P.tagName!=X.tagName)return false}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});
CodeMirror.defineMode("css",function(J){function F(n,k){H=k;return n}function O(n,k){var y=n.next();if(y=="@"){n.eatWhile(/[\w\\\-]/);return F("meta",n.current())}else if(y=="/"&&n.eat("*")){k.tokenize=M;return M(n,k)}else if(y=="<"&&n.eat("!")){k.tokenize=S;return S(n,k)}else if(y=="=")F(null,"compare");else if((y=="~"||y=="|")&&n.eat("="))return F(null,"compare");else if(y=='"'||y=="'"){k.tokenize=W(y);return k.tokenize(n,k)}else if(y=="#"){n.eatWhile(/[\w\\\-]/);return F("atom","hash")}else if(y==
"!"){n.match(/^\s*\w*/);return F("keyword","important")}else if(/\d/.test(y)){n.eatWhile(/[\w.%]/);return F("number","unit")}else if(/[,.+>*\/]/.test(y))return F(null,"select-op");else if(/[;{}:\[\]]/.test(y))return F(null,y);else{n.eatWhile(/[\w\\\-]/);return F("variable","variable")}}function M(n,k){for(var y=false,D;(D=n.next())!=null;){if(y&&D=="/"){k.tokenize=O;break}y=D=="*"}return F("comment","comment")}function S(n,k){for(var y=0,D;(D=n.next())!=null;){if(y>=2&&D==">"){k.tokenize=O;break}y=
D=="-"?y+1:0}return F("comment","comment")}function W(n){return function(k,y){for(var D=false,x;(x=k.next())!=null;){if(x==n&&!D)break;D=!D&&x=="\\"}if(!D)y.tokenize=O;return F("string","string")}}var V=J.indentUnit,H;return{startState:function(n){return{tokenize:O,baseIndent:n||0,stack:[]}},token:function(n,k){if(n.eatSpace())return null;var y=k.tokenize(n,k),D=k.stack[k.stack.length-1];if(H=="hash"&&D!="rule")y="string-2";else if(y=="variable")if(D=="rule")y="number";else if(!D||D=="@media{")y=
"tag";D=="rule"&&/^[\{\};]$/.test(H)&&k.stack.pop();if(H=="{")if(D=="@media")k.stack[k.stack.length-1]="@media{";else k.stack.push("{");else if(H=="}")k.stack.pop();else if(H=="@media")k.stack.push("@media");else D=="{"&&H!="comment"&&k.stack.push("rule");return y},indent:function(n,k){var y=n.stack.length;if(/^\}/.test(k))y-=n.stack[n.stack.length-1]=="rule"?2:1;return n.baseIndent+y*V},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");
CodeMirror.defineMode("javascript",function(J,F){function O(m,A){for(var C=false,I;(I=m.next())!=null;){if(I==A&&!C)return false;C=!C&&I=="\\"}return C}function M(m,A,C){Ha=m;Za=C;return A}function S(m,A){var C=m.next();if(C=='"'||C=="'"){C=W(C);A.tokenize=C;return C(m,A)}else if(/[\[\]{}\(\),;\:\.]/.test(C))return M(C);else if(C=="0"&&m.eat(/x/i)){m.eatWhile(/[\da-f]/i);return M("number","number")}else if(/\d/.test(C)){m.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return M("number","number")}else if(C==
"/")if(m.eat("*")){C=V;A.tokenize=C;return C(m,A)}else if(m.eat("/")){m.skipToEnd();return M("comment","comment")}else if(A.reAllowed){O(m,"/");m.eatWhile(/[gimy]/);return M("regexp","string-2")}else{m.eatWhile(nb);return M("operator",null,m.current())}else if(C=="#"){m.skipToEnd();return M("error","error")}else if(nb.test(C)){m.eatWhile(nb);return M("operator",null,m.current())}else{m.eatWhile(/[\w\$_]/);C=m.current();var I=wb.propertyIsEnumerable(C)&&wb[C];return I&&A.kwAllowed?M(I.type,I.style,
C):M("variable","variable",C)}}function W(m){return function(A,C){if(!O(A,m))C.tokenize=S;return M("string","string")}}function V(m,A){for(var C=false,I;I=m.next();){if(I=="/"&&C){A.tokenize=S;break}C=I=="*"}return M("comment","comment")}function H(m,A,C,I,pa,ra){this.indented=m;this.column=A;this.type=C;this.prev=pa;this.info=ra;if(I!=null)this.align=I}function n(){for(var m=arguments.length-1;m>=0;m--)fa.cc.push(arguments[m])}function k(){n.apply(null,arguments);return true}function y(m){var A=
fa.state;if(A.context){fa.marked="def";for(var C=A.localVars;C;C=C.next)if(C.name==m)return;A.localVars={name:m,next:A.localVars}}}function D(){if(!fa.state.context)fa.state.localVars=Ta;fa.state.context={prev:fa.state.context,vars:fa.state.localVars}}function x(){fa.state.localVars=fa.state.context.vars;fa.state.context=fa.state.context.prev}function K(m,A){var C=function(){var I=fa.state;I.lexical=new H(I.indented,fa.stream.column(),m,null,I.lexical,A)};C.lex=true;return C}function G(){var m=fa.state;
if(m.lexical.prev){if(m.lexical.type==")")m.indented=m.lexical.indented;m.lexical=m.lexical.prev}}function R(m){return function(A){return A==m?k():m==";"?n():k(arguments.callee)}}function ba(m){if(m=="var")return k(K("vardef"),P,R(";"),G);if(m=="keyword a")return k(K("form"),ca,ba,G);if(m=="keyword b")return k(K("form"),ba,G);if(m=="{")return k(K("}"),z,G);if(m==";")return k();if(m=="function")return k(za);if(m=="for")return k(K("form"),R("("),K(")"),Ga,R(")"),G,ba,G);if(m=="variable")return k(K("stat"),
na);if(m=="switch")return k(K("form"),ca,K("}","switch"),R("{"),z,G,G);if(m=="case")return k(ca,R(":"));if(m=="default")return k(R(":"));if(m=="catch")return k(K("form"),D,R("("),Lb,R(")"),ba,G,x);return n(K("stat"),ca,R(";"),G)}function ca(m){if(rb.hasOwnProperty(m))return k(T);if(m=="function")return k(za);if(m=="keyword c")return k(Pa);if(m=="(")return k(K(")"),Pa,R(")"),G,T);if(m=="operator")return k(ca);if(m=="[")return k(K("]"),t(ca,"]"),G,T);if(m=="{")return k(K("}"),t(qa,"}"),G,T);return k()}
function Pa(m){if(m.match(/[;\}\)\],]/))return n();return n(ca)}function T(m,A){if(m=="operator"&&/\+\+|--/.test(A))return k(T);if(m=="operator")return k(ca);if(m!=";"){if(m=="(")return k(K(")"),t(ca,")"),G,T);if(m==".")return k(ea,T);if(m=="[")return k(K("]"),ca,R("]"),G,T)}}function na(m){if(m==":")return k(G,ba);return n(T,R(";"),G)}function ea(m){if(m=="variable"){fa.marked="property";return k()}}function qa(m){if(m=="variable")fa.marked="property";if(rb.hasOwnProperty(m))return k(R(":"),ca)}
function t(m,A){function C(I){if(I==",")return k(m,C);if(I==A)return k();return k(R(A))}return function(I){return I==A?k():n(m,C)}}function z(m){if(m=="}")return k();return n(ba,z)}function P(m,A){if(m=="variable"){y(A);return k(X)}return k()}function X(m,A){if(A=="=")return k(ca,X);if(m==",")return k(P)}function Ga(m){if(m=="var")return k(P,ga);if(m==";")return n(ga);if(m=="variable")return k(Ob);return n(ga)}function Ob(m,A){if(A=="in")return k(ca);return k(T,ga)}function ga(m,A){if(m==";")return k(Aa);
if(A=="in")return k(ca);return k(ca,R(";"),Aa)}function Aa(m){m!=")"&&k(ca)}function za(m,A){if(m=="variable"){y(A);return k(za)}if(m=="(")return k(K(")"),D,t(Lb,")"),G,ba,x)}function Lb(m,A){if(m=="variable"){y(A);return k()}}var Na=J.indentUnit,Fb=F.json,wb=function(){function m(Ca){return{type:Ca,style:"keyword"}}var A=m("keyword a"),C=m("keyword b"),I=m("keyword c"),pa=m("operator"),ra={type:"atom",style:"atom"};return{"if":A,"while":A,"with":A,"else":C,"do":C,"try":C,"finally":C,"return":I,"break":I,
"continue":I,"new":I,"delete":I,"throw":I,"var":m("var"),"const":m("var"),let:m("var"),"function":m("function"),"catch":m("catch"),"for":m("for"),"switch":m("switch"),"case":m("case"),"default":m("default"),"in":pa,"typeof":pa,"instanceof":pa,"true":ra,"false":ra,"null":ra,undefined:ra,NaN:ra,Infinity:ra}}(),nb=/[+\-*&%=<>!?|]/,Ha,Za,rb={atom:true,number:true,variable:true,string:true,regexp:true},fa={state:null,column:null,marked:null,cc:null},Ta={name:"this",next:{name:"arguments"}};G.lex=true;
return{startState:function(m){return{tokenize:S,reAllowed:true,kwAllowed:true,cc:[],lexical:new H((m||0)-Na,0,"block",false),localVars:F.localVars,context:F.localVars&&{vars:F.localVars},indented:0}},token:function(m,A){if(m.sol()){if(!A.lexical.hasOwnProperty("align"))A.lexical.align=false;A.indented=m.indentation()}if(m.eatSpace())return null;var C=A.tokenize(m,A);if(Ha=="comment")return C;A.reAllowed=!!(Ha=="operator"||Ha=="keyword c"||Ha.match(/^[\[{}\(,;:]$/));A.kwAllowed=Ha!=".";var I;a:{var pa=
Ha,ra=Za,Ca=A.cc;fa.state=A;fa.stream=m;fa.marked=null;fa.cc=Ca;if(!A.lexical.hasOwnProperty("align"))A.lexical.align=true;for(;;)if((Ca.length?Ca.pop():Fb?ca:ba)(pa,ra)){for(;Ca.length&&Ca[Ca.length-1].lex;)Ca.pop()();if(fa.marked){I=fa.marked;break a}if(I=pa=="variable")b:{for(I=A.localVars;I;I=I.next)if(I.name==ra){I=true;break b}I=void 0}if(I){I="variable-2";break a}I=C;break a}}return I},indent:function(m,A){if(m.tokenize!=S)return 0;var C=A&&A.charAt(0),I=m.lexical,pa=I.type,ra=C==pa;return pa==
"vardef"?I.indented+4:pa=="form"&&C=="{"?I.indented:pa=="stat"||pa=="form"?I.indented+Na:I.info=="switch"&&!ra?I.indented+(/^(?:case|default)\b/.test(A)?Na:2*Na):I.align?I.column+(ra?0:1):I.indented+(ra?0:Na)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});
CodeMirror.defineMode("htmlmixed",function(J){function F(n,k){var y=W.token(n,k.htmlState);if(y=="tag"&&n.current()==">"&&k.htmlState.context)if(/^script$/i.test(k.htmlState.context.tagName)){k.token=M;k.localState=V.startState(W.indent(k.htmlState,""));k.mode="javascript"}else if(/^style$/i.test(k.htmlState.context.tagName)){k.token=S;k.localState=H.startState(W.indent(k.htmlState,""));k.mode="css"}return y}function O(n,k,y){var D=n.current();k=D.search(k);k>-1&&n.backUp(D.length-k);return y}function M(n,
k){if(n.match(/^<\/\s*script\s*>/i,false)){k.token=F;k.localState=null;k.mode="html";return F(n,k)}return O(n,/<\/\s*script\s*>/,V.token(n,k.localState))}function S(n,k){if(n.match(/^<\/\s*style\s*>/i,false)){k.token=F;k.localState=null;k.mode="html";return F(n,k)}return O(n,/<\/\s*style\s*>/,H.token(n,k.localState))}var W=CodeMirror.getMode(J,{name:"xml",htmlMode:true}),V=CodeMirror.getMode(J,"javascript"),H=CodeMirror.getMode(J,"css");return{startState:function(){var n=W.startState();return{token:F,
localState:null,mode:"html",htmlState:n}},copyState:function(n){if(n.localState)var k=CodeMirror.copyState(n.token==S?H:V,n.localState);return{token:n.token,localState:k,mode:n.mode,htmlState:CodeMirror.copyState(W,n.htmlState)}},token:function(n,k){return k.token(n,k)},indent:function(n,k){return n.token==F||/^\s*<\//.test(k)?W.indent(n.htmlState,k):n.token==M?V.indent(n.localState,k):H.indent(n.localState,k)},compareStates:function(n,k){return W.compareStates(n.htmlState,k.htmlState)},electricChars:"/{}:"}});
CodeMirror.defineMIME("text/html","htmlmixed");window.codeMirrorReady&&window.codeMirrorReady();
